# 写在前面

考核时间有限，**所以你不必追求一定要实现最终的目标**。

在完成考核任务的过程中，你***<u>遇到了哪些问题</u>***，其中，你***<u>解决了什么问题</u>***，你是***<u>如何解决的</u>***，***<u>哪些问题没有解决</u>***，你觉得***<u>可能的原因是什么</u>***，请列写一份文档，用你觉得我们看得懂的格式记录一下这个过程。相比于最终的结果，这份文档是我们考核的**关键**，你可以**一边记录一边完成**而不是等到最后一起总结。

---

# 雷达导航

### 二、在培训过程中我们花了一定的篇幅介绍了tf坐标变换以及tf树的概念，现在轮到你来尝试构建一棵tf树了，请你查阅相关资料，完成以下任务：

##### 1.在ros2环境中尝试发布从base_link到imu_link的tf坐标变换，具体的数值可自行设定，请使用可视化工具rqt绘制出tf，并截图粘贴出来；

在完成这个任务时，从生成工作空间到创建坐标变换节点都非常顺利。但是最后一步在使用rqt_tf_tree查看TF树结构出现了问题，不管重新下载这个包还是修改setup.py，tf_broadcaster_node.py都无济于事。AI建议我替换掉可视化的包，使用tf2_tools生成TF树图。

经过AI的提示，我尝试清理rqt的缓存文件，通过清理旧版的缓存强制重置配置，最终解决了rqt可视化无法加载的问题。

##### 3.在问题二的基础上，请为这个白色圆柱体添加其余部件（必须包含雷达和imu），使之成为一个两轮差速小车，将结果在rviz中可视化并截图粘贴出来；

这个任务本质上是对上一问中的white_cylinder.urdf进行修改，使之增加底盘、左轮右轮和传感器等部件。但是，当我将其修改完成，并打开rviz时，rviz图像缺失了左右轮，同时Display一栏Status: Error中的左轮和右轮出现No transform报错。

这个问题我尝试对修改了.urdf和node_setup.py文件，但问题依然存在；在Global Option选项下Fixed Flame处选择base_link和world时无法看到车轮，而当我选择imu_link和lidar_link时就会出现白色车轮，但位置出现了错误。多次尝试无果，遂放弃.

##### 4.请你查阅资料了解robot_state_publisher这个功能包的作用，尝试将在问题三中构建的两轮差速小车的各个部分之间的tf转换发布出来，如果一切顺利的话，你应该可以从rqt中看到一棵静态的tf树，包含base_link,lidar_link,imu_link等坐标系（具体的名称可以不一样），请将其截图粘贴出来，同时将你的urdf文件一并上传。

这次任务的主要代码部分与3题一致，同样遇到了left/right wheel节点缺失的问题。经过对rviz和robot_state_piblisher这个功能包的了解，我发现，之所以出现缺失节点的现象，是因为robot_state_piblisher负责根据 joint state 广播 TF，但它自己不产生 joint state。因此，必须手动发布joint_state_publisher节点才能读取到轮子的信息。至此，成功修复3/4题的轮子无法显示的问题。

### 二、识别题

**1.能量机关**

能量机关机制是超级对抗赛的重要机制之一，成功开启能量机关可为队伍获得巨大收益（见参考资料），然而其对击打精度和速度的限制使人工手瞄变得困难，因此，能量机关自瞄也是我们的工作之一。

请你根据能量机关机制编写程序识别其待击打位置（不限传统方法or神经网络），同时要求能判断出能量机关是否处于激活状态，扇叶为待击打态or已击打态。请使用我们提供的视频作为测试demo，录制可视化结果。（视频资料见附件）

参考资料：

[RoboMaster 2025 机甲大师超级对抗赛比赛规则手册V2.1.0（20250802）.pdf](https://terra-1-g.djicdn.com/b2a076471c6c4b72b574a977334d3e05/RM2025/RoboMaster 2025 机甲大师超级对抗赛比赛规则手册V2.1.0（20250802）.pdf)

问题：我使用的是YOLO v8 模型，一开始使用LabelImg训练图形，但是由于Ubuntu对LabelImg的兼容性实在是太差了，导致我的LabelImg总是闪退，无法进行创建区块。我决定更换在线的YOLO标注工具。

后来，我找到了一个可以线上处理的网站makesense.ai，成功标记了各个帧的能量机关。但是在执行训练命令的过程中，由于我使用的虚拟机ubuntu内存不足，训练过程总是发生终止，因此我尝试去提升电脑内存来解决。

新问题：由于我标记图片有误，对于小能量机关，我错误地将靶子与其连接的辐条通通框进去；于此同时我还发现，我在标注过程中并没有严格进行框选，框选靶子时方框边缘留下了过宽的间隙，并没有严丝合缝贴合靶子，导致模型欠拟合现象严重，置信度调到很低也几乎没有识别框图。为了解决这个问题，我重新进行了识别框选，对视频的每一帧的每一个靶子进行了细致的框选标注。