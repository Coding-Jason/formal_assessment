# formal_assessment视觉组正式考核试题及解答


## 雷达导航

### 一、我们在培训的过程中多次提到imu这个硬件，相信大家现在对于imu的概念也有了初步的了解。请你回忆培训中的内容并查阅资料，回答以下问题：

##### 1.简要叙述一下imu的工作原理；

答：（来源于文档BJFU-Vision-Group-from-Beginner-to-Master.pdf）

​	IMU 一般指6轴传感器，内部包含了3轴陀螺仪和3轴加速度计，3轴就是表示 XYZ 平面下的3个坐标轴。3轴陀螺仪测量的是每个轴上面的角速度，精度一般为
$$
°/s
$$

也就是按照这个趋势旋转，每秒钟能走过的度数。

​	3轴加速度计测量的是每个轴所受的重力加速度，比如传感器水平放置水平地面时，理论上只受到z轴负向的重力加速度，大小为
$$
9.8m/s^2
$$

​	此外，IMU还可在加速度计和陀螺仪的基础上加入磁力计（用卡尔曼或者互补滤波等算法为用户提供拥有绝对参考的俯仰角、横滚角和航向角），形成"9轴IMU"，即AHRS。

##### 2.从imu的工作原理出发，推导出如何通过imu获取机器人的实时位姿；

答：IMU通过加速度计和陀螺仪来测量机器人的运动状态。

陀螺仪能够实时输出角速度信号，通过对角速度积分，可以得到机器人的姿态变化，从而获得姿态（即方向和旋转）。

加速度计测得的是机体坐标系下的线加速度，在已知姿态后可将其转换到惯性坐标系中，减去重力加速度后，再经过一次积分得到速度，二次积分得到位置。

最后经过ROS包 `imu_tools` 进行滤波，机器人通过数据接口 `ros_imu topic` 获取数据。

##### 3.在雷达导航中，imu是一个不可或缺的硬件，为什么我们有了雷达精准的重定位功能还需要imu，请分点指出imu的重要作用（可以从建图，定位，导航分别思考）。

答：

1. 建图：提升建图质量和鲁棒性，弥补纯雷达SLAM在快速运动时的建图缺陷。Hector SLAM等算法在机器人在快速转向时很容易发生错误匹配，从而导致建出的地图发生错位。此时可以使用IMU提供的角速度信息可以进行运动补偿，减轻因机器人自身快速旋转导致的雷达点云畸变。

  // 出处： `3.7.1.2 Gmapping 优缺点` (P95-P96)

2. 定位：修正里程计误差，提供高频姿态。

  1. 解决轮式里程计的累积误差和打滑问题。光有麦轮的里程计计算不足以满足需求，因为实际使用过程中经常会出现轮子打滑和数据出现累计误差的情况。IMU中的陀螺仪提供的yaw角偏航角是一个相对可靠的绝对角度参考，不受轮子打滑影响，可以用于修正里程计的角度累积误差。

      //出处： `3.4.1 概述` (P82)

  2. 提供高频、连续的姿态更新，实现平滑定位。雷达和轮式里程计的更新频率较低，通常只有几十赫兹；而IMU可以提供数百赫兹的高频数据。通过扩展卡尔曼滤波融合三者，可以利用IMU的高频特性在滤波器更新周期内进行插值，从而输出一个更高频率、更平滑的机器人姿态估计。

    //出处： `3.4.4.2 卡尔曼滤波` & `3.4.4.3 工作原理` (P83-P85)

3. 导航：保障运动控制的稳定与精准。

	1. IMU为全向移动平台提供准确的航向基准。根据麦轮的逆运动学解算，其输入就包含了机器人的旋转角速度，需要准确的机体坐标系朝向（yaw角）。使用IMU提供的是实时、无累积误差的yaw角，而由打滑的轮子积分得到的角度并不准确。

		//出处：`3.5 麦轮底盘运动学解算` (P86-P91)

	2. 提升系统在传感器失效或干扰情况下的生存能力。当雷达因环境因素（如强光、透明玻璃、密集障碍）暂时失效或定位跳变时，IMU可以短期内维持姿态估计，与轮式里程计一起构成一个降级的但依然可用的定位系统，防止导航完全失灵。

		//出处：`3.4.4.2 卡尔曼滤波` (P83-P84)

### 二、在培训过程中我们花了一定的篇幅介绍了tf坐标变换以及tf树的概念，现在轮到你来尝试构建一棵tf树了，请你查阅相关资料，完成以下任务：

##### 1.在ros2环境中尝试发布从base_link到imu_link的tf坐标变换，具体的数值可自行设定，请使用可视化工具rqt绘制出tf，并截图粘贴出来；

截图如下

![](https://github.com/Coding-Jason/formal_assessment/blob/main/Ubuntu%2022.04.5(1)-2025-11-06-13-40-35.png)

（如果无法打开，可以查看GitHub仓库里的图片备份）

##### 2.请你查阅资料了解rviz这个强大的工具，尝试使用urdf文件绘制一个白色圆柱体，具体的数值可自行设定，将结果在rviz中可视化并截图粘贴出来；

##### 3.在问题二的基础上，请为这个白色圆柱体添加其余部件（必须包含雷达和imu），使之成为一个两轮差速小车，将结果在rviz中可视化并截图粘贴出来；

##### 4.请你查阅资料了解robot_state_publisher这个功能包的作用，尝试将在问题三中构建的两轮差速小车的各个部分之间的tf转换发布出来，如果一切顺利的话，你应该可以从rqt中看到一棵静态的tf树，包含base_link,lidar_link,imu_link等坐标系（具体的名称可以不一样），请将其截图粘贴出来，同时将你的urdf文件一并上传。
